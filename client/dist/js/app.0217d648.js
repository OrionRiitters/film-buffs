(function(e){function n(n){for(var t,a,i=n[0],u=n[1],l=n[2],p=0,d=[];p<i.length;p++)a=i[p],o[a]&&d.push(o[a][0]),o[a]=0;for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(e[t]=u[t]);c&&c(n);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,n=0;n<s.length;n++){for(var r=s[n],t=!0,i=1;i<r.length;i++){var u=r[i];0!==o[u]&&(t=!1)}t&&(s.splice(n--,1),e=a(a.s=r[0]))}return e}var t={},o={app:0},s=[];function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,n,r){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)a.d(r,t,function(n){return e[n]}.bind(null,t));return r},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var c=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,n,r){e.exports=r("56d7")},"034f":function(e,n,r){"use strict";var t=r("64a9"),o=r.n(t);o.a},"11ca":function(e,n,r){},"167a":function(e,n,r){"use strict";var t=r("11ca"),o=r.n(t);o.a},"56d7":function(e,n,r){"use strict";r.r(n);r("cadf"),r("551c"),r("f751"),r("097d");var t=r("2b0e"),o=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{attrs:{id:"app"}},[r("page-header",{on:{signOut:e.signOut}}),r("RouterView",{attrs:{token:e.token},on:{getToken:e.getToken}})],1)},s=[],a=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"page-header"},[r("div",{staticClass:"inline"},[r("button",{on:{click:e.goHome}},[e._v("Home")]),r("h1",[e._v("Film Buffs")]),r("button",{on:{click:e.signOut}},[e._v("Sign Out")])])])},i=[],u={name:"PageHeader",props:{token:{type:String}},methods:{goHome:function(){this.$router.push({name:"Home"})},signOut:function(){this.$emit("signOut")}}},l=u,c=(r("167a"),r("2877")),p=Object(c["a"])(l,a,i,!1,null,"fd79f92c",null),d=p.exports,g={name:"app",components:{PageHeader:d},data:function(){return{token:""}},methods:{getToken:function(e){this.token=e},signOut:function(){this.token="",this.$router.push({name:"LogIn"})}}},m=g,h=(r("034f"),Object(c["a"])(m,o,s,!1,null,null,null)),f=h.exports,v=r("8c4f"),w=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"login"},[r("div",{attrs:{id:"errors"}},[e.errors.uniqueConstraintError?r("div",{attrs:{id:"unique-constraint"}},[r("h2",[e._v("Username already taken!")])]):e._e(),e.errors.nullFieldsError?r("div",{attrs:{id:"null-fields"}},[r("h2",[e._v("\n        Please be sure to fill in all fields before logging in or signing up!\n      ")])]):e._e(),e.errors.invalidLogInError?r("div",{attrs:{id:"invalid-login"}},[r("h2",[e._v("Incorrect username or password")])]):e._e()]),r("div",{attrs:{id:"login"}},[r("label",{attrs:{for:"logInUsername"}},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.logInUsername,expression:"logInUsername"}],attrs:{id:"logInUsername",type:"text"},domProps:{value:e.logInUsername},on:{input:function(n){n.target.composing||(e.logInUsername=n.target.value)}}}),r("label",{attrs:{for:"logInPassword"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.logInPassword,expression:"logInPassword"}],attrs:{id:"logInPassword",type:"password"},domProps:{value:e.logInPassword},on:{input:function(n){n.target.composing||(e.logInPassword=n.target.value)}}}),r("button",{on:{click:e.logIn}},[e._v("Log In")])]),r("div",{attrs:{id:"sign-up"}},[r("label",{attrs:{for:"signUpUsername"}},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signUpUsername,expression:"signUpUsername"}],attrs:{id:"signUpUsername",type:"text"},domProps:{value:e.signUpUsername},on:{input:function(n){n.target.composing||(e.signUpUsername=n.target.value)}}}),r("label",{attrs:{for:"signUpPassword"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signUpPassword,expression:"signUpPassword"}],attrs:{id:"signUpPassword",type:"password"},domProps:{value:e.signUpPassword},on:{input:function(n){n.target.composing||(e.signUpPassword=n.target.value)}}}),r("label",{attrs:{for:"email"}},[e._v("Email Address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"text"},domProps:{value:e.email},on:{input:function(n){n.target.composing||(e.email=n.target.value)}}}),r("button",{on:{click:e.signUp}},[e._v("Sign Up")])])])},U=[],_={name:"LogIn",data:function(){return{logInUsername:"",logInPassword:"",signUpUsername:"",signUpPassword:"",email:"",errors:{uniqueConstraintError:!1,nullFieldsError:!1,invalidLogInError:!1}}},methods:{clearErrors:function(){for(var e in this.errors)this.errors[e]=!1},showError:function(e){this.clearErrors(),this.errors[e]=!0},logIn:function(e){var n=this;this.logInUsername.length>0&&this.logInPassword.length>0?(this.clearErrors(),this.$api_service.sendAuth(this.logInUsername,this.logInPassword).then(function(e){e.hash?(console.log(e),n.$emit("getToken",e.hash),n.$router.push({name:"Home"})):n.showError("invalidLogInError")})):this.showError("nullFieldsError")},signUp:function(e){var n=this;this.signUpUsername.length>0&&this.signUpPassword.length>0&&this.email.length>0?this.$api_service.createUser(this.signUpUsername,this.signUpPassword,this.email).then(function(e){"UniqueConstraintError"==e.error?n.showError("uniqueConstraintError"):200==e.statusCode&&(n.clearErrors(),n.$emit("getToken",e.hash),n.$router.push({name:"Home"}))}):this.showError("nullFieldsError")}}},b=_,P=Object(c["a"])(b,w,U,!1,null,"60e38eea",null),E=P.exports,I=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},k=[function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"home"},[r("div",{attrs:{id:"errors"}}),r("div",{attrs:{id:"navigation"}},[r("button",[e._v("View Past Events")]),r("button",[e._v("View Upcoming Event")]),r("button",[e._v("View your profile")])])])}],y={name:"Home",data:function(){return{errors:{}}},props:{token:""},methods:{checkToken:function(){0==this.token.length&&this.$router.push({name:"LogIn"})}},beforeMount:function(){this.checkToken()}},O=y,x=Object(c["a"])(O,I,k,!1,null,"55dd5583",null),$=x.exports,j=new v["a"]({routes:[{path:"/home",component:$,name:"Home",props:!0},{path:"/",component:E,name:"LogIn",props:!0}]}),C=(r("7f7f"),r("bc3a")),H=r.n(C),T={sendAuth:function(e,n){return H.a.post("/api/auth",{username:e,password:n}).then(function(e){return e.data}).catch(function(e){})},createUser:function(e,n,r){var t=this;return H.a.post("/api/auth/create",{username:e,password:n,email:r}).then(function(e){return"SequelizeUniqueConstraintError"==e.data.name?{error:"UniqueConstraintError"}:t.sendAuth(e.data.username,e.data.password).then(function(e){return{statusCode:200,hash:e.hash}})}).catch(function(e){})}};t["a"].use(v["a"]),t["a"].config.productionTip=!1,t["a"].prototype.$api_service=T,new t["a"]({render:function(e){return e(f)},router:j}).$mount("#app")},"64a9":function(e,n,r){}});
//# sourceMappingURL=app.0217d648.js.map